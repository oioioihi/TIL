## CPU 스케줄링 개요

- 프로세스들은 CPU를 차지하기 위해 운영체제의 명령을 기다리고 있다.
- 운영체제는 모든 프로세스에게 CPU를 할당/해제 하는데, 이를 'CPU 스케줄링'이라고 한다.
- CPU스케줄링에서 스케줄러(운영체제)가 고려해야 할 사항은
  1. 메모리에 있는 수 많은 프로세스 중, 어떤 프로세스에게 CPU 사용권을 줘야하는가?
  2. CPU 리소스를 할당 받은 프로세스가, 얼마의 시간동안 CPU를 사용해야하는가?
- 오늘날은 '시분할 처리방식'으로 여러 프로세스에게 짧은 시간동안 돌아가면 CPU를 할당한다.
- Process A 1초 실행 -> Process B 1초 실행 -> Process A 1초 실행 -> Process B 1초 실행  .....
- CPU를 할당받아 실행하는 작업을 'CPU Burst'라고 하고, 입출력 작업을 I/O Burst라고 부른다.



<img src="./capture/Screenshot 2024-02-19 at 23.27.04.png" alt="Screenshot 2024-02-19 at 23.27.04" style="zoom: 25%;" />



## 다중큐 = 준비, 대기 상태인 프로세스의 PCB가 관리되는 곳

: 프로세스의 정보를 가지고 있는 PCB는 Queue에 들어가서 실행되기를 기다리고 있고, CPU 스케줄러에 의해 실행상태로 전환된다.

##### 준비상태 대기큐

- 프로세스가 대기하고 있는 상태은 '준비'상태와 '대기'상태는 Queue라는 자료구조로 관리된다.

- 프로세스가 실행상태에서 준비상태로 돌아갈 때, 운영체제는 해당 프로세스의 우선순위를 보고 그에 맞는 "준비 큐"에 넣는다

  <img src="./capture/Screenshot 2024-02-19 at 23.43.58.png" alt="Screenshot 2024-02-19 at 23.43.58" style="zoom:33%;" />

- CPU 스케줄러(운영체제)는 "준비상태의 다중큐"에 들어있는 프로세스들 중에 적당한 프로세스를 선택해서 실행상태로 전환시킨다.

##### 대기상태 대기큐

- 프로세스가 실행상태에서 I/O요청을 받아 대기상태로 오게 되면, I/O 작업 종류에 따라서 분류된 큐에 들어가게 된다.
- CPU 스케줄러는 이를 참조해서 스케줄링을 한다.

<img src="./capture/Screenshot 2024-02-19 at 23.48.55.png" alt="Screenshot 2024-02-19 at 23.48.55" style="zoom: 33%;" />





## 스케줄링의 목표

1. 리소스 사용률 :
   - CPU 사용률을 높이는 것을 목표로 할수도 있고, I/O 디바이스(키보드, 마우스)의 사용률을 높이는 것을 목표로 할수도 있다.
2. 오버헤드 최소화 : 
   - 스케줄링을 하기 위한 계산이 너무 복잡하거나, Context Switching이 너무 자주 발행하면 배보다 배꼽이 더 커지는 상황이 나온다.
3. 공평성 :
   - 모든 프로세스에게 공평하게 CPU가 할당 되어야 한다.
   - 여기서 '공평'의 의미는 시스템의 특성에 따라 달라질 수도 있다. 
     - Ex. 자율주행 자동차에 사용되는 운영체제는 안전의 이유로 장애물을 감지하고 피하는 프로세스가, 음악을 재생하는 프로세스 보다 우선순위가 높기 때문에, CPU할당이 더 많이 되어야한다.
4. 처리량 :
   - 같은 시간 내에 더 많은 처리를 할 수 있는 방법을 목표로 한다.

<img src="./capture/Screenshot 2024-02-19 at 23.59.59.png" alt="Screenshot 2024-02-19 at 23.59.59" style="zoom:25%;" />

5. 대기시간 :
   - 작업을 요청하고 실제 작업이 이루어지기 전까지 대기하는 시간이 짧은 것을 목표로 한다.

6. 응답 시간 : 

   - 대화형 시스템에서 사용자의 요청이 얼마나 빨리 반응하는지가 중요하기 때문에, 응답시간이 짧은 것을 목표로 한다.

     